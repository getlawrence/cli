# .NET Auto-instrumentation

Add package:

  dotnet add package OpenTelemetry.AutoInstrumentation

Set environment variables (example):

  OTEL_DOTNET_AUTO_HOME=/otel-auto
  CORECLR_ENABLE_PROFILING=1
  CORECLR_PROFILER={918728DD-259F-4A6A-AC2B-B85E1B658318}
  CORECLR_PROFILER_PATH=/otel-auto/Linux-x64/OpenTelemetry.AutoInstrumentation.Native.so
  DOTNET_ADDITIONAL_DEPS=/otel-auto/AdditionalDeps
  DOTNET_SHARED_STORE=/otel-auto/store
  DOTNET_STARTUP_HOOKS=/otel-auto/net/OpenTelemetry.AutoInstrumentation.StartupHook.dll
  OTEL_SERVICE_NAME={{.ServiceName}}
  OTEL_EXPORTER_OTLP_ENDPOINT=${OTEL_EXPORTER_OTLP_ENDPOINT}

Wrap your entrypoint with a small launcher script if needed to set these env vars before `dotnet <app>.dll`.


